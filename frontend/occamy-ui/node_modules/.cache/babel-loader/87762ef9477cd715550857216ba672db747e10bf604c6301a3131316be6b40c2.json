{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ganga Lodhiyal\\\\occamy-tracker\\\\frontend\\\\occamy-ui\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\n// Backend connection setup\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst api = axios.create({\n  baseURL: 'http://localhost:5000/api',\n  withCredentials: true // Session maintain karne ke liye important\n});\nfunction App() {\n  _s();\n  const [loading, setLoading] = useState(false);\n  const [dayStarted, setDayStarted] = useState(false);\n\n  // Function to get GPS with high accuracy\n  const getVerifiedLocation = () => {\n    return new Promise((resolve, reject) => {\n      if (!navigator.geolocation) reject(\"GPS not supported!\");\n      navigator.geolocation.getCurrentPosition(pos => resolve({\n        lat: pos.coords.latitude,\n        lng: pos.coords.longitude\n      }), err => reject(\"Please enable GPS to proceed!\"), {\n        enableHighAccuracy: true\n      });\n    });\n  };\n\n  // 1. START DAY (Attendance)\n  const startDay = async () => {\n    setLoading(true);\n    try {\n      const loc = await getVerifiedLocation();\n      const res = await api.post('/activity/start-day', loc);\n      setDayStarted(true);\n      alert(`Day Started at ${new Date(res.data.time).toLocaleTimeString()}`);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      alert(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || err);\n    }\n    setLoading(false);\n  };\n\n  // 2. LOG MEETING (Strict Proof)\n  const logMeeting = async type => {\n    setLoading(true);\n    try {\n      const loc = await getVerifiedLocation();\n      // Yaha hum backend ko location bhej rahe hain, \n      // bina iske backend \"400 Bad Request\" dega.\n      await api.post('/api/activity/log-meeting', {\n        type,\n        lat: loc.lat,\n        lng: loc.lng,\n        photo: \"data:image/png;base64,...\" // Yaha actual camera image string jayegi\n      });\n      alert(`${type} Meeting Verified & Saved!`);\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      alert(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.error) || \"Login or Start Day first!\");\n    }\n    setLoading(false);\n  };\n\n  // 3. END DAY (Summary)\n  const endDay = async () => {\n    setLoading(true);\n    try {\n      const res = await api.post('/activity/end-day');\n      const {\n        summary\n      } = res.data;\n      alert(`DAY SUMMARY:\\nMeetings: ${summary.totalMeetings}\\nDistance: ${summary.distanceKM} km\\nStatus: Submitted`);\n      setDayStarted(false);\n    } catch (err) {\n      var _err$response3, _err$response3$data;\n      alert(((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.error) || \"Error ending day\");\n    }\n    setLoading(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.app,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: styles.header,\n      children: \"OCCAMY FIELD APP\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), !dayStarted ? /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: startDay,\n      disabled: loading,\n      style: styles.bigGreenBtn,\n      children: loading ? \"CHECKING GPS...\" : \"START DAY (HAZRI)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.box,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"LOG MEETING (PROOF KE SATH)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => logMeeting('Farmer'),\n          style: styles.meetingBtn,\n          children: \"FARMER MEETING\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => logMeeting('Distributor'),\n          style: styles.meetingBtn,\n          children: \"DISTRIBUTOR MEETING\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: endDay,\n        style: styles.bigRedBtn,\n        children: \"END DAY & SEND REPORT\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n}\n\n// UI Styles for Low Literacy (Big Text, Bright Colors)\n_s(App, \"00dg4+I0UJ3gooBuiGl0K41Riho=\");\n_c = App;\nconst styles = {\n  app: {\n    padding: '20px',\n    textAlign: 'center',\n    fontFamily: 'sans-serif'\n  },\n  header: {\n    fontSize: '24px',\n    marginBottom: '30px',\n    color: '#333'\n  },\n  bigGreenBtn: {\n    backgroundColor: '#28a745',\n    color: 'white',\n    width: '100%',\n    padding: '40px',\n    fontSize: '22px',\n    fontWeight: 'bold',\n    border: 'none',\n    borderRadius: '15px'\n  },\n  bigRedBtn: {\n    backgroundColor: '#dc3545',\n    color: 'white',\n    width: '100%',\n    padding: '25px',\n    fontSize: '20px',\n    marginTop: '50px',\n    border: 'none',\n    borderRadius: '15px'\n  },\n  meetingBtn: {\n    backgroundColor: '#007bff',\n    color: 'white',\n    width: '100%',\n    padding: '30px',\n    fontSize: '18px',\n    margin: '10px 0',\n    border: 'none',\n    borderRadius: '10px'\n  },\n  box: {\n    border: '2px solid #ddd',\n    padding: '15px',\n    borderRadius: '15px',\n    marginTop: '20px'\n  }\n};\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","api","create","baseURL","withCredentials","App","_s","loading","setLoading","dayStarted","setDayStarted","getVerifiedLocation","Promise","resolve","reject","navigator","geolocation","getCurrentPosition","pos","lat","coords","latitude","lng","longitude","err","enableHighAccuracy","startDay","loc","res","post","alert","Date","data","time","toLocaleTimeString","_err$response","_err$response$data","response","error","logMeeting","type","photo","_err$response2","_err$response2$data","endDay","summary","totalMeetings","distanceKM","_err$response3","_err$response3$data","style","styles","app","children","header","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","bigGreenBtn","box","meetingBtn","bigRedBtn","_c","padding","textAlign","fontFamily","fontSize","marginBottom","color","backgroundColor","width","fontWeight","border","borderRadius","marginTop","margin","$RefreshReg$"],"sources":["C:/Users/Ganga Lodhiyal/occamy-tracker/frontend/occamy-ui/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\n// Backend connection setup\nconst api = axios.create({\n  baseURL: 'http://localhost:5000/api',\n  withCredentials: true // Session maintain karne ke liye important\n});\n\nfunction App() {\n  const [loading, setLoading] = useState(false);\n  const [dayStarted, setDayStarted] = useState(false);\n\n  // Function to get GPS with high accuracy\n  const getVerifiedLocation = () => {\n    return new Promise((resolve, reject) => {\n      if (!navigator.geolocation) reject(\"GPS not supported!\");\n      \n      navigator.geolocation.getCurrentPosition(\n        (pos) => resolve({ lat: pos.coords.latitude, lng: pos.coords.longitude }),\n        (err) => reject(\"Please enable GPS to proceed!\"),\n        { enableHighAccuracy: true }\n      );\n    });\n  };\n\n  // 1. START DAY (Attendance)\n  const startDay = async () => {\n    setLoading(true);\n    try {\n      const loc = await getVerifiedLocation();\n      const res = await api.post('/activity/start-day', loc);\n      setDayStarted(true);\n      alert(`Day Started at ${new Date(res.data.time).toLocaleTimeString()}`);\n    } catch (err) {\n      alert(err.response?.data?.error || err);\n    }\n    setLoading(false);\n  };\n\n  // 2. LOG MEETING (Strict Proof)\n  const logMeeting = async (type) => {\n    setLoading(true);\n    try {\n      const loc = await getVerifiedLocation();\n      // Yaha hum backend ko location bhej rahe hain, \n      // bina iske backend \"400 Bad Request\" dega.\n      await api.post('/api/activity/log-meeting', {\n        type,\n        lat: loc.lat,\n        lng: loc.lng,\n        photo: \"data:image/png;base64,...\" // Yaha actual camera image string jayegi\n      });\n      alert(`${type} Meeting Verified & Saved!`);\n    } catch (err) {\n      alert(err.response?.data?.error || \"Login or Start Day first!\");\n    }\n    setLoading(false);\n  };\n\n  // 3. END DAY (Summary)\n  const endDay = async () => {\n    setLoading(true);\n    try {\n      const res = await api.post('/activity/end-day');\n      const { summary } = res.data;\n      alert(`DAY SUMMARY:\\nMeetings: ${summary.totalMeetings}\\nDistance: ${summary.distanceKM} km\\nStatus: Submitted`);\n      setDayStarted(false);\n    } catch (err) {\n      alert(err.response?.data?.error || \"Error ending day\");\n    }\n    setLoading(false);\n  };\n\n  return (\n    <div style={styles.app}>\n      <h2 style={styles.header}>OCCAMY FIELD APP</h2>\n      \n      {!dayStarted ? (\n        <button onClick={startDay} disabled={loading} style={styles.bigGreenBtn}>\n          {loading ? \"CHECKING GPS...\" : \"START DAY (HAZRI)\"}\n        </button>\n      ) : (\n        <>\n          <div style={styles.box}>\n            <p>LOG MEETING (PROOF KE SATH)</p>\n            <button onClick={() => logMeeting('Farmer')} style={styles.meetingBtn}>FARMER MEETING</button>\n            <button onClick={() => logMeeting('Distributor')} style={styles.meetingBtn}>DISTRIBUTOR MEETING</button>\n          </div>\n          \n          <button onClick={endDay} style={styles.bigRedBtn}>END DAY & SEND REPORT</button>\n        </>\n      )}\n    </div>\n  );\n}\n\n// UI Styles for Low Literacy (Big Text, Bright Colors)\nconst styles = {\n  app: { padding: '20px', textAlign: 'center', fontFamily: 'sans-serif' },\n  header: { fontSize: '24px', marginBottom: '30px', color: '#333' },\n  bigGreenBtn: { backgroundColor: '#28a745', color: 'white', width: '100%', padding: '40px', fontSize: '22px', fontWeight: 'bold', border: 'none', borderRadius: '15px' },\n  bigRedBtn: { backgroundColor: '#dc3545', color: 'white', width: '100%', padding: '25px', fontSize: '20px', marginTop: '50px', border: 'none', borderRadius: '15px' },\n  meetingBtn: { backgroundColor: '#007bff', color: 'white', width: '100%', padding: '30px', fontSize: '18px', margin: '10px 0', border: 'none', borderRadius: '10px' },\n  box: { border: '2px solid #ddd', padding: '15px', borderRadius: '15px', marginTop: '20px' }\n};\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}